---
import Layout from '../layouts/Layout.astro';
import { siteConfig } from '../data/siteConfig';
import { generateSEOProps } from '../utils/seo';
import { validateField, sanitizeInput } from '../utils/validation';

const seoProps = generateSEOProps({
  title: 'Request Documents - Civic Portal',
  description: 'Request official documents and certificates for your civic needs.'
});
---

<Layout title={seoProps.title || ''}>
  <main class="min-h-screen bg-linear-to-br from-slate-50 via-blue-50 to-indigo-50">
    <div class="max-w-4xl mx-auto px-6 py-16">
      
      <!-- Header -->
      <div class="text-center mb-12">
        <div class="text-5xl mb-4">ðŸ“„</div>
        <h1 class="text-4xl md:text-5xl font-bold text-slate-900 mb-4">Request Documents</h1>
        <p class="text-xl text-slate-600 max-w-2xl mx-auto">
          Get official documents, certificates, and records delivered to your doorstep.
        </p>
      </div>

      <!-- Document Types -->
      <section class="mb-12">
        <h2 class="text-2xl font-bold text-slate-900 mb-6">Available Documents</h2>
        <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6">
          {[
            { id: 'birth-cert', name: 'Birth Certificate', desc: 'Official birth records', time: '2-3 weeks', price: '$25' },
            { id: 'death-cert', name: 'Death Certificate', desc: 'Official death records', time: '1-2 weeks', price: '$20' },
            { id: 'marriage-cert', name: 'Marriage Certificate', desc: 'Marriage license copies', time: '1-2 weeks', price: '$30' },
            { id: 'property-deed', name: 'Property Deed', desc: 'Property ownership records', time: '1-2 weeks', price: '$50' },
            { id: 'business-license', name: 'Business License', desc: 'Business operation permits', time: '2-4 weeks', price: '$100' },
            { id: 'court-records', name: 'Court Records', desc: 'Official court documents', time: '1-3 weeks', price: '$15' }
          ].map((doc) => (
            <div class="bg-white rounded-xl p-6 border border-slate-100 hover:border-indigo-200 transition-colors cursor-pointer">
              <h3 class="font-semibold text-slate-900 mb-2">{doc.name}</h3>
              <p class="text-slate-600 text-sm mb-4">{doc.desc}</p>
              <div class="flex justify-between items-center text-sm">
                <span class="text-indigo-600 font-medium">{doc.time}</span>
                <span class="text-slate-900 font-semibold">{doc.price}</span>
              </div>
            </div>
          ))}
        </div>
      </section>

      <!-- Request Form -->
      <section class="bg-white rounded-2xl p-8 shadow-sm border border-slate-100">
        <h2 class="text-2xl font-bold text-slate-900 mb-6">Submit Your Request</h2>
        <form id="documentRequestForm" class="space-y-6">
          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label for="documentType" class="block text-sm font-medium text-slate-700 mb-2">
                Document Type *
              </label>
              <select 
                id="documentType" 
                name="documentType" 
                required
                class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
              >
                <option value="">Select a document type</option>
                <option value="birth-cert">Birth Certificate</option>
                <option value="death-cert">Death Certificate</option>
                <option value="marriage-cert">Marriage Certificate</option>
                <option value="property-deed">Property Deed</option>
                <option value="business-license">Business License</option>
                <option value="court-records">Court Records</option>
              </select>
            </div>
            <div>
              <label for="urgency" class="block text-sm font-medium text-slate-700 mb-2">
                Processing Speed
              </label>
              <select 
                id="urgency" 
                name="urgency"
                class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
              >
                <option value="standard">Standard (2-3 weeks)</option>
                <option value="expedited">Expedited (1 week) +$50</option>
                <option value="rush">Rush (3-5 days) +$100</option>
              </select>
            </div>
          </div>

          <div>
            <label for="fullName" class="block text-sm font-medium text-slate-700 mb-2">
              Full Name *
            </label>
            <input 
              type="text" 
              id="fullName" 
              name="fullName" 
              required
              class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
              placeholder="John Doe"
            />
          </div>

          <div class="grid md:grid-cols-2 gap-6">
            <div>
              <label for="email" class="block text-sm font-medium text-slate-700 mb-2">
                Email Address *
              </label>
              <input 
                type="email" 
                id="email" 
                name="email" 
                required
                class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="john@example.com"
              />
            </div>
            <div>
              <label for="phone" class="block text-sm font-medium text-slate-700 mb-2">
                Phone Number *
              </label>
              <input 
                type="tel" 
                id="phone" 
                name="phone" 
                required
                class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
                placeholder="(555) 123-4567"
              />
            </div>
          </div>

          <div>
            <label for="details" class="block text-sm font-medium text-slate-700 mb-2">
              Additional Details
            </label>
            <textarea 
              id="details" 
              name="details" 
              rows="4"
              class="w-full px-4 py-3 border border-slate-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"
              placeholder="Please provide any specific details about your request..."
            ></textarea>
          </div>

          <div class="bg-amber-50 border border-amber-200 rounded-xl p-4">
            <h4 class="font-semibold text-amber-900 mb-2">Important Information</h4>
            <ul class="text-sm text-amber-800 space-y-1">
              <li>â€¢ Processing times vary by document type and current workload</li>
              <li>â€¢ Additional fees may apply for expedited processing</li>
              <li>â€¢ You will receive email confirmation within 24 hours</li>
              <li>â€¢ Documents will be mailed to the address on file</li>
            </ul>
          </div>

          <div class="flex flex-col sm:flex-row gap-4">
            <button 
              type="submit" 
              class="px-8 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition-colors"
            >
              Submit Request
            </button>
            <button 
              type="button" 
              class="px-8 py-3 bg-slate-200 text-slate-700 rounded-xl font-semibold hover:bg-slate-300 transition-colors"
            >
              Save as Draft
            </button>
          </div>
        </form>
      </section>

    </div>
  </main>

  <script>
    document.getElementById('documentRequestForm')?.addEventListener('submit', (e) => {
      e.preventDefault();
      alert('Document request submitted successfully! You will receive a confirmation email within 24 hours.');
    });
  </script>
</Layout>
